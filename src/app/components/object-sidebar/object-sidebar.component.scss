@import 'manifest';

:host {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--surface-ground);
  border-left: 1px solid var(--surface-border);
}

aside {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--surface-ground);
  border-right: 1px solid var(--surface-border);

  .top-pane {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;

    .object-tree {
      width: 100%;
      
      ::ng-deep {
        .p-tree {
          border: none;
          padding: 0;
          background: transparent;
        }

        .tree-node {
          display: flex;
          align-items: center;
          justify-content: space-between;
          width: 100%;
          padding: 0.25rem;

          span {
            flex: 1;
          }

          .p-button {
            visibility: hidden;
            padding: 0;
            width: 2rem;
            height: 2rem;
          }

          &:hover {
            .p-button {
              visibility: visible;
            }
          }
        }

        .p-treenode-content {
          padding: 0.5rem;
          border-radius: 6px;

          &:hover {
            background: var(--surface-hover);
          }

          &.p-highlight {
            background: var(--primary-color);
            color: var(--primary-color-text);
          }
        }
      }
    }
  }

  .bottom-pane {
    height: 50%;
    overflow-y: auto;
    padding: 1rem;

    .timestamp {
      font-size: 0.875rem;
      color: var(--text-color-secondary);
      margin-bottom: 1rem;
    }

    .scrollable-content {
      overflow-y: auto;
      max-height: calc(100vh - 400px);
      
      pre {
        margin: 0;
        white-space: pre-wrap;
        word-wrap: break-word;
      }
    }

    .preview-image {
      margin-bottom: 1rem;
      text-align: center;

      img {
        max-width: 100%;
        height: auto;
        border-radius: 4px;
      }
    }

    .video-preview {
      margin-bottom: 1rem;
      text-align: center;

      video {
        max-width: 100%;
        border-radius: 4px;
      }
    }
  }
}

.video-preview {
  margin-bottom: 1rem;
  
  video {
    width: 100%;
    max-width: 100%;
    border-radius: 4px;
    background-color: var(--surface-card);
  }
}

.preview-image {
  margin-bottom: 1rem;
  
  img {
    width: 100%;
    max-width: 100%;
    border-radius: 4px;
    background-color: var(--surface-card);
  }
}

pre {
  white-space: pre-wrap;
  word-wrap: break-word;
  margin: 0;
  padding: 1rem;
  background-color: var(--surface-card);
  border-radius: 4px;
  color: var(--text-color);
}

.timestamp {
  padding: 0.5rem;
  color: var(--text-color-secondary);
  font-size: 0.9rem;
  border-bottom: 1px solid var(--surface-border);
  margin-bottom: 0.5rem;
}

:host ::ng-deep {
  .object-tree {
    border: none;
    background: transparent;
    padding: 0;

    .p-treenode-content {
      padding: 0.5rem;
      border-radius: 4px;

      &:hover {
        background-color: var(--surface-hover);
      }

      &.p-highlight {
        background-color: var(--primary-color);
        color: var(--primary-color-text);
      }
    }
  }
}
