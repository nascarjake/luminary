<aside>
  <div class="top-pane">
    <p-tree
      [value]="treeData"
      selectionMode="single"
      [(selection)]="selectedNode"
      (onNodeSelect)="onNodeSelect($event)"
      styleClass="object-tree"
    />
  </div>
  <div class="bottom-pane">
    @if (selectedObject) {
      <p-panel [header]="selectedNode?.label || 'Details'">
        @switch (selectedNode?.data?.type) {
          @case ('outline') {
            <div class="scrollable-content">
              <pre>{{ selectedObject | prettyJson }}</pre>
            </div>
          }
          @case ('script') {
            <div class="scrollable-content">
              <pre>{{ selectedObject.content }}</pre>
            </div>
          }
          @case ('pictory') {
            <div class="scrollable-content">
              <pre>{{ selectedObject | prettyJson }}</pre>
            </div>
          }
          @case ('render') {
            <div class="scrollable-content">
              @if (selectedObject.video) {
                <div class="video-preview">
                  <video controls>
                    <source [src]="selectedObject.video" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              }
              @if (selectedObject.preview) {
                <div class="preview-image">
                  <img [src]="selectedObject.preview" alt="Preview">
                </div>
              }
              <pre>{{ selectedObject | prettyJson }}</pre>
            </div>
          }
          @case ('video') {
            <div class="scrollable-content">
              <div class="video-preview">
                <video controls>
                  <source [src]="selectedObject.file" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
              <pre>{{ selectedObject | prettyJson }}</pre>
            </div>
          }
        }
      </p-panel>
    }
  </div>
</aside>
